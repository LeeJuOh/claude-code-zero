# Report Template

Output format for plugin analysis reports. The orchestrator skill assembles the final report using this template.

All section headers, labels, and descriptions should be translated to the target language.
Keep component names, file paths, and technical terms (CRITICAL, HIGH, MEDIUM, LOW) untranslated.

## Full Report (analyze mode)

````markdown
# Plugin Analysis: {name}

> Generated by Extension Wiki | {date}

## {name} v{version}

| | |
|---|---|
| Author | {author} |
| License | {license} |
| Keywords | {keywords} |
| Risk | {risk_level} ({n}C/{n}H/{n}M/{n}L) |

---

## Components ({total})

### Skills — Active ({n})

| Skill | Purpose | Tools | Notable |
|-------|---------|-------|---------|
| {name} | {1-line} | {tools} | {fork/hooks/aux files} |

{if any active skills have auxiliary files:}
#### Auxiliary Files
| Skill | Files |
|-------|-------|
| {name} | {file1}, {file2}, ... |

### Skills — Reference ({n})

{Include this section only when feature-architect applied skill classification.
 For small plugins where all skills were analyzed individually, list all skills in the Active table above.}

| Category | Skills | Description |
|----------|--------|-------------|
| {category} | {comma-separated names} | {1-line group description} |

### Commands ({n})

| Category | Commands |
|----------|----------|
| {functional group} | {comma-separated names} |

### Agents ({n})

| Agent | Purpose | Model | Constraints |
|-------|---------|-------|-------------|
| {name} | {1-line} | {model} | {maxTurns/memory/etc.} |

### Hooks ({n})

| Event | Type | Script | Effect |
|-------|------|--------|--------|
| {event} | {cmd/prompt/agent} | {file} | {1-line} |

{if MCP > 0:}
### MCP ({n})
| Server | Purpose |
|--------|---------|
| {name} | {1-line} |

{if LSP > 0:}
### LSP ({n})
| Server | Languages |
|--------|-----------|
| {name} | {languages} |

---

## Architecture

### Design Philosophy
- **{Principle Name}**: {1-2 sentence explanation}

{Mermaid component relationship diagram from feature-architect}

{Mermaid data flow diagram — if orchestrator pattern exists}

{Mermaid workflow sequence diagram — if orchestrator or multi-step pattern exists}

{Brief data flow description — 3-5 lines max}

---

## Usage

### Install
{commands}

### Prerequisites
| Item | Required | Details |
|------|----------|---------|
...

### Key Components
{For noteworthy components only — 2-3 sentences each. Skip trivial redirect commands.}

### When to Use
- {bullet}

### When NOT to Use
- {bullet}

---

## Security Audit

### Risk: {LEVEL} — {n}C / {n}H / {n}M / {n}L

#### Permission Matrix

| Component | Permissions | Tools | Risk |
|-----------|-------------|-------|------|
...

#### Findings

[{SEVERITY}] #{n}: {Title}
> {component} | {location}
{description}
**Fix**: {recommendation}

---
{repeat for each finding, separated by horizontal rule}

---

## Dependencies

### Tool Dependencies
| Tool | Used By | Purpose |
|------|---------|---------|
| {tool} | {component} | {why} |

### External Dependencies
| Dependency | Type | Required By |
|------------|------|-------------|
| {dep} | CLI/MCP/Browser/EnvVar | {component} |

### Environment Variables
| Variable | Used In | Purpose |
|----------|---------|---------|
| {var} | {file} | {purpose} |

### Model Requirements
| Component | Model | Reason |
|-----------|-------|--------|
| {name} | {model} | {why} |

---

## Plugin Profile

### Component Inventory
| Type | Count |
|------|-------|
| Active Skills | {n} |
| Reference Skills | {n} |
| Agents | {n} |
| Commands | {n} |
| Hooks | {n} |
| MCP Servers | {n} |
| LSP Servers | {n} |

### Documentation
| Item | Status |
|------|--------|
| README.md | {checkmark/cross} |
| LICENSE | {checkmark/cross} |
| CHANGELOG.md | {checkmark/cross} |
| tests/ | {checkmark/cross} |
| Usage examples | {checkmark/cross} |

### Security Risk
{CRITICAL/HIGH/MEDIUM/LOW} — {n}C / {n}H / {n}M / {n}L

### Primary Pattern
{Orchestrator-Agent / Standalone / Library / Hybrid}

### Target Users
{1-2 sentence description}

### Quality Checklist

[PASS] {check description}
[PASS] {check description}
[FAIL] {check description} — {detail}
[PASS] {check description}
...
````

## Security-Only Report (security mode)

````markdown
# Security Audit: {name} v{version}

> Extension Wiki | {date}

## Risk: {LEVEL}

Findings {n}C / {n}H / {n}M / {n}L

---

## Permission Matrix
| Component | Permissions | Tools | Risk |
|-----------|-------------|-------|------|
...

## Findings

[{SEVERITY}] #{n}: {Title}
> {component} | {location}
{description}
**Fix**: {recommendation}

---
{repeat for each finding}

## Recommendations
1. {priority action}
2. {priority action}
````

## Overview Report (overview mode)

````markdown
# Plugin Overview: {name}

> Generated by Extension Wiki | {date}

## {name} v{version}

| | |
|---|---|
| Author | {author} |
| License | {license} |
| Description | {description} |

## Component Inventory

| Type | Count | Components |
|------|-------|------------|
| `[SKILL]` | {n} | {names} |
| `[COMMAND]` | {n} | {names} |
| `[AGENT]` | {n} | {names} |
| `[HOOK]` | {n} | {events -> scripts (type: command/prompt/agent)} |
| `[MCP]` | {n} | {server names} |
| `[LSP]` | {n} | {server names -> languages} |
| **Total** | **{total}** | |
````

## Extraction Sources

| Target | Source File | Extraction Method |
|--------|-----------|-------------------|
| Trigger phrases | SKILL.md frontmatter `description` | Parse after "Trigger phrases:" |
| Argument format | SKILL.md frontmatter `argument-hint` | Direct read |
| Anti-patterns | SKILL.md `description` | Parse after "Do NOT use for:" |
| Install commands | plugin.json `name` + marketplace.json | Compose install command |
| Prerequisites | agent.md `tools` with MCP, SKILL.md `allowed-tools` | Detect MCP dependencies |
| Usage examples | README.md, SKILL.md code blocks | Extract code blocks |
| Model requirement | agent.md / SKILL.md `model` field | Parse frontmatter |
| Environment vars | hook scripts, .mcp.json | Grep `${...}`, `$VAR` patterns |
